(function(t){function e(e){for(var o,a,i=e[0],u=e[1],c=e[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);m&&m(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],o=!0,i=1;i<s.length;i++){var u=s[i];0!==r[u]&&(o=!1)}o&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var o={},r={app:0},n=[];function a(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=o,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(s,o,function(e){return t[e]}.bind(null,o));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var m=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var o=s("85ec"),r=s.n(o);r.a},1:function(t,e){},3421:function(t,e,s){"use strict";var o=s("bce3"),r=s.n(o);r.a},4542:function(t,e,s){},"4d74":function(t,e,s){"use strict";var o=s("ffdd"),r=s.n(o);r.a},5649:function(t,e,s){"use strict";var o=s("9f96"),r=s.n(o);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var o=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],a=s("2f62"),i=s("8055"),u=s.n(i);o["a"].use(a["a"]);var c=new a["a"].Store({state:{socket:u()("https://ttt-multiplayer.herokuapp.com/"),messages:[],users:[],game:{},availableRooms:[],mContainer:{},navigated:0},mutations:{},actions:{},modules:{}}),m={store:c,mounted:function(){var t=this;this.$store.state.socket.on("error-page",(function(){t.$router.push({path:"/error"})})),this.$store.state.socket.on("created",(function(e){t.$store.state.navigated+=1,t.$router.push({path:"/room/"+e})})),this.$store.state.socket.on("joined",(function(e){t.$store.state.navigated+=1,t.$router.push({path:"/room/"+e})})),this.$store.state.socket.on("chat-messages",(function(e){t.$store.state.messages=e,t.$nextTick((function(){t.$store.state.mContainer.scrollTop=t.$store.state.mContainer.scrollHeight-t.$store.state.mContainer.clientHeight}))})),this.$store.state.socket.on("room-users",(function(e){t.$store.state.users=e})),this.$store.state.socket.on("game",(function(e){t.$store.state.game=e})),this.$store.state.socket.on("availableRooms",(function(e){t.$store.state.availableRooms=e})),this.$store.state.socket.on("missing-username",(function(){var e=prompt("Enter your username:","");t.$store.state.socket.emit("join-room",t.$route.params.id,e)}))}},l=m,d=(s("034f"),s("2877")),p=Object(d["a"])(l,r,n,!1,null,null,null),f=p.exports,v=s("8c4f"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[t._m(0),s("div",{staticClass:"main-container"},[s("div",{staticClass:"room-handling"},[s("h5",[t._v("Room name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",placeholder:"Enter a room name.."},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("button",{staticClass:"button-primary",on:{click:function(e){return e.preventDefault(),t.createRoom(e)}}},[t._v("Create room")]),s("button",{staticClass:"button-secondary",on:{click:function(e){return e.preventDefault(),t.joinRoom(e)}}},[t._v("Join room")])]),s("div",{staticClass:"rooms-list"},[s("h5",[t._v("Rooms")]),t._l(t.$store.state.availableRooms,(function(e){return s("div",{key:e.name,staticClass:"room-entry"},[s("div",{staticClass:"room-entry-button"},[s("button",{on:{click:function(s){return t.joinRoomFromList(e.name)}}},[t._v("Join")])]),s("div",{staticClass:"room-entry-room"},[s("p",[t._v(t._s(e.name))])])])}))],2)])])},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"welcome"},[s("h1",[t._v("Tic Tac Toe multiplayer")])])}],g={name:"Home",data:function(){return{id:null,username:""}},methods:{createRoom:function(){this.username=prompt("Enter your username:",""),this.$store.state.socket.emit("create-room",this.id,this.username)},joinRoom:function(){this.username=prompt("Enter your username:",""),this.$store.state.socket.emit("join-room",this.id,this.username)},joinRoomFromList:function(t){this.username=prompt("Enter your username:",""),this.$store.state.socket.emit("join-room",t,this.username)}}},$=g,_=(s("3421"),Object(d["a"])($,h,b,!1,null,"3657889e",null)),y=_.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"room"},[s("div",{staticClass:"main"},[s("div",[s("Game")],1),s("div",{staticClass:"users"},[s("h3",[t._v("Users:")]),t._l(t.$store.state.users,(function(e){return s("h5",{key:e.player},[t._v(t._s(e.username)+" - "+t._s(e.player))])}))],2),s("div",[s("Chat")],1)]),s("div",{staticClass:"back"},[s("button",{staticClass:"button-secondary",on:{click:function(e){return e.preventDefault(),t.back(e)}}},[t._v("Leave")])])])},k=[],x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"game"},[s("div",{staticClass:"turn"},[t.$store.state.game.playing||""==t.$store.state.game.winner?t._e():s("h3",[t._v(t._s(t.$store.state.game.winner)+" wins!")]),t.$store.state.game.playing||""!=t.$store.state.game.winner?t._e():s("h3",[t._v("Game hasn't started")]),t.$store.state.game.playing?s("h3",[t._v(t._s(t.$store.state.game.currentPlayer)+"'s turn")]):t._e()]),s("Board")],1)},j=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board"},[s("div",{staticClass:"flex-row"},[s("Square",{attrs:{spot:1}}),s("Square",{attrs:{spot:2}}),s("Square",{attrs:{spot:3}})],1),s("div",{staticClass:"flex-row"},[s("Square",{attrs:{spot:4}}),s("Square",{attrs:{spot:5}}),s("Square",{attrs:{spot:6}})],1),s("div",{staticClass:"flex-row"},[s("Square",{attrs:{spot:7}}),s("Square",{attrs:{spot:8}}),s("Square",{attrs:{spot:9}})],1)])},O=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{on:{click:function(e){return e.preventDefault(),t.move(t.spot)}}},[t._v(t._s(t.$store.state.game.board?t.$store.state.game.board[t.spot-1]:""))])])},E=[],R=(s("7db0"),s("a9e3"),{name:"Square",store:c,props:{spot:Number},methods:{move:function(t){this.myTurn()&&this.$store.state.socket.emit("move",{spot:t-1,name:this.$route.params.id})},myTurn:function(){var t=this,e=this.$store.state.users.find((function(e){return e.socketid==t.$store.state.socket.id}));return e.player==this.$store.state.game.currentPlayer}}}),q=R,P=(s("df92"),Object(d["a"])(q,S,E,!1,null,"7aa077e9",null)),T=P.exports,D={name:"Board",components:{Square:T}},M=D,B=(s("6ff6"),Object(d["a"])(M,w,O,!1,null,"6494e814",null)),G=B.exports,H={name:"Game",store:c,components:{Board:G}},J=H,L=(s("8d5c"),Object(d["a"])(J,x,j,!1,null,"21d9d4b0",null)),N=L.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat"},[s("div",{ref:"messages",staticClass:"messages",attrs:{id:"messages"}},t._l(t.$store.state.messages,(function(e){return s("div",{staticClass:"message"},[s("p",[t._v(t._s(e.username)+": "+t._s(e.message))])])})),0),s("form",{staticClass:"message-form",on:{submit:function(e){return e.preventDefault(),t.addMessage()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"message-input",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),s("button",{staticClass:"send-button",attrs:{type:"submit"}},[t._v("Send")])])])},I=[],U={name:"Chat",store:c,data:function(){return{text:""}},mounted:function(){this.$store.state.mContainer=document.getElementById("messages")},methods:{addMessage:function(){this.$store.state.socket.emit("add-message",this.text,this.$route.params.id),this.text=""}}},Y=U,z=(s("69a6"),Object(d["a"])(Y,F,I,!1,null,"2ba72c59",null)),A=z.exports,K={store:c,components:{Game:N,Chat:A},methods:{back:function(){this.$store.state.socket.emit("leave-room",this.$route.params.id),this.$router.push({path:"/"})}},beforeRouteEnter:function(t,e,s){s((function(t){1==t.$store.state.navigated?(t.$store.state.navigated-=1,s()):(s(!1),t.$router.push({path:"/error"}))}))}},Q=K,V=(s("5649"),Object(d["a"])(Q,C,k,!1,null,"1770b0c1",null)),W=V.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"error"},[s("h1",[t._v("This is an error page")]),s("h6",[t._v("You did something you were not supposed to do")]),s("button",{staticClass:"button-secondary",on:{click:function(e){return e.preventDefault(),t.back(e)}}},[t._v("Return to homepage")])])},Z=[],tt={store:c,methods:{back:function(){this.$router.push({path:"/"})}}},et=tt,st=(s("4d74"),Object(d["a"])(et,X,Z,!1,null,"6dc26dc8",null)),ot=st.exports;o["a"].use(v["a"]);var rt=[{path:"/",name:"Home",component:y},{path:"/room/:id",name:"Room",component:W},{path:"/error",name:"Error",component:ot}],nt=new v["a"]({mode:"history",base:"/",routes:rt}),at=nt;o["a"].config.productionTip=!1,new o["a"]({router:at,store:c,render:function(t){return t(f)}}).$mount("#app")},"69a6":function(t,e,s){"use strict";var o=s("9260"),r=s.n(o);r.a},"6c3d":function(t,e,s){},"6ff6":function(t,e,s){"use strict";var o=s("6c3d"),r=s.n(o);r.a},"85ec":function(t,e,s){},"8d5c":function(t,e,s){"use strict";var o=s("4542"),r=s.n(o);r.a},9260:function(t,e,s){},"9f96":function(t,e,s){},bce3:function(t,e,s){},dd1b:function(t,e,s){},df92:function(t,e,s){"use strict";var o=s("dd1b"),r=s.n(o);r.a},ffdd:function(t,e,s){}});
//# sourceMappingURL=app.4042746c.js.map